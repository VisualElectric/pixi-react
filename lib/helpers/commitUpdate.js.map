{"version":3,"file":"commitUpdate.js","sources":["../../src/helpers/commitUpdate.ts"],"sourcesContent":["import { applyProps } from '../helpers/applyProps';\nimport { log } from '../helpers/log';\nimport { switchInstance } from './switchInstance';\n\nimport type { Fiber } from 'react-reconciler';\nimport type { HostConfig } from '../typedefs/HostConfig';\nimport type { UpdatePayload } from '../typedefs/UpdatePayload';\n\nexport function commitUpdate(\n    instance: HostConfig['instance'],\n    updatePayload: UpdatePayload,\n    type: HostConfig['type'],\n    _oldProps: HostConfig['props'],\n    newProps: HostConfig['props'],\n    fiber: Fiber,\n)\n{\n    log('info', 'lifecycle::commitUpdate');\n\n    const {\n        diff,\n        shouldReconstruct,\n    } = updatePayload;\n\n    if (shouldReconstruct)\n    {\n        switchInstance(instance, type, newProps, fiber);\n    }\n    else if (diff)\n    {\n        applyProps(instance, diff);\n    }\n}\n"],"names":["log","switchInstance","applyProps"],"mappings":";;;;;;;AAQO,SAAS,aACZ,QACA,EAAA,aAAA,EACA,IACA,EAAA,SAAA,EACA,UACA,KAEJ,EAAA;AACI,EAAAA,OAAA,CAAI,QAAQ,yBAAyB,CAAA,CAAA;AAErC,EAAM,MAAA;AAAA,IACF,IAAA;AAAA,IACA,iBAAA;AAAA,GACA,GAAA,aAAA,CAAA;AAEJ,EAAA,IAAI,iBACJ,EAAA;AACI,IAAeC,6BAAA,CAAA,QAAA,EAAU,IAAM,EAAA,QAAA,EAAU,KAAK,CAAA,CAAA;AAAA,aAEzC,IACT,EAAA;AACI,IAAAC,qBAAA,CAAW,UAAU,IAAI,CAAA,CAAA;AAAA,GAC7B;AACJ;;;;"}